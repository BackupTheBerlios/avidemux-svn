SET(ADM_LIB ADM_render)
SET(${ADM_LIB}_SRCS GUI_render.cpp GUI_sdlRender.cpp GUI_xvRender.cpp)
SDLify(GUI_sdlRender.cpp)

ADD_ADM_SHARED_LIB_CLI_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})

IF (GETTEXT_FOUND)
	TARGET_LINK_LIBRARIES(${ADM_LIB}_cli ${GETTEXT_LIBRARY_DIR})
ENDIF (GETTEXT_FOUND)

INSTALL(TARGETS ${ADM_LIB}_cli RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib${LIB_SUFFIX}  ARCHIVE DESTINATION lib${LIB_SUFFIX})

IF (ADM_UI_GTK)
	IF (APPLE AND NOT ADM_CPU_X86_64)
		ADD_ADM_SHARED_LIB_GTK_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS} GUI_sdlRenderHelper.m)
	ELSE (APPLE AND NOT ADM_CPU_X86_64)
		ADD_ADM_SHARED_LIB_GTK_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})
	ENDIF (APPLE AND NOT ADM_CPU_X86_64)

	IF (GETTEXT_FOUND)
		TARGET_LINK_LIBRARIES(${ADM_LIB}_gtk ${GETTEXT_LIBRARY_DIR})
	ENDIF (GETTEXT_FOUND)

	IF (USE_SDL)
		TARGET_LINK_LIBRARIES(${ADM_LIB}_gtk ${SDL_LIBRARY})
	ENDIF (USE_SDL)

	IF (USE_XV)
		TARGET_LINK_LIBRARIES(${ADM_LIB}_gtk ${XVIDEO_LIBRARY_DIR} X11 Xext)
	ENDIF (USE_XV)

	INSTALL(TARGETS ${ADM_LIB}_gtk RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib${LIB_SUFFIX}  ARCHIVE DESTINATION lib${LIB_SUFFIX})
ENDIF (ADM_UI_GTK)

IF (ADM_UI_QT4)
	IF (APPLE AND NOT ADM_CPU_X86_64)
		ADD_ADM_SHARED_LIB_QT4_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS} GUI_sdlRenderHelper.m)
	ELSE (APPLE AND NOT ADM_CPU_X86_64)
		ADD_ADM_SHARED_LIB_QT4_TARGET(${ADM_LIB} ${${ADM_LIB}_SRCS})
	ENDIF (APPLE AND NOT ADM_CPU_X86_64)

	IF (USE_SDL)
		TARGET_LINK_LIBRARIES(${ADM_LIB}_qt4 ${SDL_LIBRARY})
	ENDIF (USE_SDL)

	IF (USE_XV)
		TARGET_LINK_LIBRARIES(${ADM_LIB}_qt4 ${XVIDEO_LIBRARY_DIR} X11 Xext)
	ENDIF (USE_XV)

	INSTALL(TARGETS ${ADM_LIB}_qt4 RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib${LIB_SUFFIX}  ARCHIVE DESTINATION lib${LIB_SUFFIX})
ENDIF (ADM_UI_QT4)

ADM_TARGET_LINK_LIBARIES_ALL_TARGET(${ADM_LIB} ADM_core ADM_coreUI ADM_coreImage)

IF (APPLE)
	ADM_TARGET_LINK_LIBARIES_ALL_TARGET(${ADM_LIB} "-framework Cocoa")
ENDIF (APPLE)