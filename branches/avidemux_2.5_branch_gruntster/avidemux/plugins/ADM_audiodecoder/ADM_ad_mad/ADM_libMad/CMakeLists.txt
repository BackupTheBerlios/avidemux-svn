SET(ADM_LIB ADM_libMad)

SET(${ADM_LIB}_SRCS 
	bit.c  decoder.c  fixed.c  frame.c  huffman.c  layer12.c  layer3.c  
	stream.c  synth.c  timer.c  version.c)

ADD_LIBRARY(${ADM_LIB} STATIC ${${ADM_LIB}_SRCS})

IF (UNIX)
	ADD_TARGET_CFLAGS(${ADM_LIB} -fPIC)
ENDIF (UNIX)

INCLUDE(admLibMad)
GET_MAD_CFLAGS(MAD_CFLAGS)
ADD_TARGET_CFLAGS(${ADM_LIB} ${MAD_CFLAGS})

IF (ADM_BIG_ENDIAN)
	ADD_TARGET_CFLAGS(${ADM_LIB} "-DWORDS_BIGENDIAN")
ENDIF (ADM_BIG_ENDIAN)

REMOVE_DEFINITIONS(-DHAVE_CONFIG_H)