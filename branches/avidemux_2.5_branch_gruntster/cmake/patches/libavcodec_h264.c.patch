*** libavcodec/h264.c.old	Sat Jan 24 21:36:32 2009
--- libavcodec/h264.c	Sat Jan 24 21:36:31 2009
***************
*** 78,83 ****
--- 78,94 ----
  0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8,
  };
  
+ /* MEANX */
+ int av_getAVCStreamInfo(AVCodecContext *avctx, uint32_t  *nalSize, uint32_t *isAvc)
+ {
+       H264Context *h = avctx->priv_data;
+       assert(h);
+       *nalSize=h->nal_length_size;
+       *isAvc=h->is_avc;
+ 	return 1;
+ 
+   }
+ /* MeanX */
  
  static void fill_caches(H264Context *h, int mb_type, int for_deblock){
      MpegEncContext * const s = &h->s;
