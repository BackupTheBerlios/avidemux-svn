<?xml version='1.0' encoding="UTF-8"?>
<guide link="doc/">
<title>Cutting</title>
<author title="mean"><mail link="fixounet@free.fr">
	Mean</mail>
</author>

<abstract>
Cutting
 </abstract>

<version>1.0</version>
<date>08 Feb 2003</date>
<chapter>
<title>Simple cutting</title>
<section>
	<title>Markers</title>
	<body><ul>
		<p>
			A and B markers are used to set the start and end of a sequence.	
		</p>
		<p>
			You can set them using the <img src="../images/marka.png"></img> and <img src="../images/markb.png"></img> buttons.	
		</p>
		<p> You can also jump to A or B marker using <c>Markers->Go to A</c> or <c>Markers->Go to B</c> menu entries.
		</p>
		<p> Markers position is also recalled at the bottom of the screen.
		<img src="../images/markers.png"></img>. The -1 means end of video.
		</p>
	</ul></body>
</section>
<section>
	<title>Saving</title>
	<body><ul>
		<p>
			If you set markers video will be saved from A to B including B.	
		</p>
		<p>
			That is [A,B].	
		</p>
	</ul></body>
</section>
<section>
	<title>Removing</title>
	<body><ul>
		<p>
			The <c>Markers->Delete</c> menu entry will remove [A,B[ from the stream.
			It can be used, for example, to remove commercials from a video capture.
		</p>
		<p>
		You can remove as much as you want from the video stream.
		</p>
		<warning> When removing parts, the audio inside the stream will keep sync, not an external audio. Said otherwise, be sure to cut a stream which always contains the audio.
		</warning>
	</ul></body>
</section>
<section>
	<title>Cutting and keyframe</title>
	<body><ul>
		<p>This paragraph only applies when video is in copy mode. In process mode, avidemux internals ensure everything is allright.
		</p>
		<p>
			Most video codec use the previous frame as reference and only encode the delta. From time to time a complete frame is encoded with no temporal reference to other frames. These frames are Intra frame, also called I-Frame or KeyFrame.
		</p>
		<p>
			It means that if you have a stream like this : xxAxxIxxBxxxIxxx, and remove [A,B[, you will end up with xxOOOIxxxxx, with OOO being broken frames. 
			</p><p>Why broken ? Because they lost their reference frames.
		</p>
		<p>
			There is two ways of dealing with that : 
			<ul>
			<li>The B markers is a I frame. In that case no problem.</li>
			<li>You use the smart copy mode. Only available for Divx3 and mpeg4. Smart copy will re-encode the part that losts its reference images with a fixed quantizer. A value of 4 or 5 is generally ok. You will end up with xxRRRIxxxx, where R are re-encoded frames. It DOES NOT work with B frames.</li>
			</ul>
		</p>


	</ul></body>
</section>
<section>
	<title>Copy/Paste</title>
	<body><ul>
		<p>Copy/Paste operations are also available, but the same restrictions concerning reference frame apply.
		</p>
		<p>In a nutshell : 
			<ul>
			<li>If you process the video : No problem.</li>
			<li>If you copy the video : The first frame of the pasted part must be Intra, and the frame after the insert point must be Intra too. Smart copy will work in that case, but not with stream containing B frames</li>
			</ul>
		</p>


	</ul></body>
</section>
</chapter>
<chapter>
<title>Advanced cutting</title>
<section>
		<p>
			You may want to split the video to packet of a given size (for example 700 MB)
		</p>
	<title>Autosplit</title>
	<body><ul>
		<p>
			Using <c>File ->Avi muxer options</c>, you can specify a file size in megabytes.	
		</p>
		<p>
			Each time that file size is reached and a I-frame is present, avidemux will create a new file. You will end up with foo.avi.1, foo.avi.2 etc...	
		</p>
		<p>
			As the new file must begin by a I-frame, it is not very accurate. It is better to keep a margin of about 5 megabytes.
		</p>
	</ul></body>
</section>
<section>
	<title>Cut wizard</title>
	<body><ul>
		<p>
			You may also use <c>Misc->cut wizard</c>. Set the A marker before starting cut wizard.
		</p>
		<p>
			Enter the informations : Target filesize, # of audio track and bitrate of audio track (these are pre-filled). It will tell you where to set the B-marker to reach that size.
		</p>
		<p> It is a bit buggy.
		</p>
	</ul></body>
</section>
</chapter>
</guide>
