<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
<link title="new" rel="stylesheet" href="../plop.css" type="text/css">
<title>Avidemux 
	
		Documentation
	
-- 
	Mpeg to Divx tutorial</title>
</head>
<body style="margin-left:0px;margin-top:0px;" bgcolor="#ffffff"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top" align="right" colspan="1" bgcolor="#ffffff"><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr><td width="99%" class="content" valign="top" align="left">
<br><p class="dochead">Mpeg to Divx tutorial</p>
<p class="chaphead"><span class="chapnum"><a name="doc_chap1">1.</a></span>Getting ready</p>
This page is an example of encoding a divx avi to a VCD. 
You will be able to deduce the settings to encode to SVCD. The DVD case is slightly different as 
avidemux is able to output proper mpeg PS (audio+video) files directly, see <a href="dvd.xml.html">DVD</a>
<p class="secthead"><a name="doc_chap1_sect1">Input stream </a></p>
<ul>
<p>
Any avi with suitable codecs can be encoded into a VCD. For example Divx+MP3
(note that you need mad to handle the MP3 stream).
</p>
<p>The VCD export is done in 3 steps : encoding video, encoding audio and muxing.
</p>
</ul>
<p class="secthead"><a name="doc_chap1_sect2">Encoding the video </a></p>
<ul>
<p>
First we will resize the video to fit the video CD spec
</p>
<p>
It means 352*240 for NTSC or 352*288 for PAL
</p>
<p>
After loading the source AVI, popup the video filter window by <span class="code">F1</span>.
</p>
<p>
	<img src="../image_tuto/filters.png">
</p>
<p>
Click the button on the right side <span class="code">VCD res</span>. This button will automatically resize the video and add black border to get a proper video size without altering the aspect ratio.
</p>
<p>
Now select the video codec using the vcodec button. Select VCD. Nothing to configure here.
</p>
<p>Finaly  <span class="code">File-&gt;Save video</span> and select the video stream file. For example /tmp/videocd.m1v.
</p>
<p>Now you can read some other avidemux docs and come back a couple of hours later.
</p>
</ul>
<p class="secthead"><a name="doc_chap1_sect3">Encoding the audio </a></p>
<ul>
<p>The audio is most probably encoded in a format which is not compatible with VCD. So we will re-encode it.</p>
<p>
Set the audio to process mode <span class="code">F6</span>, and select the audio codec <span class="code">F4</span>.
</p>
<p>
<img src="../images/audiocodec.png">
</p>
<p>
Select <span class="code">FFmpeg audio codec</span>, and press the configure button. You must enter <span class="code">Stereo</span> and <span class="code">224 kbps</span>.
</p>
<p>
<img src="../images/audioconfig.png">
</p>
<p> Now, we will add some audio filters that may be needed, to that effect press <span class="code">F2</span>. </p>
<p>There is three possibilities here :
<ul>
	<li>The audio is 44.1 Khz, select none.</li>
	<li>The audio is 48 Khz, select 48 to 44.1.</li>
	<li>The audio is at another frequency, select <span class="code">Resample</span> and enter 44100.</li>
</ul>
You may want to add <span class="code">Normalize</span> if needed.
</p>
<p>
<img src="../images/audiofilter.png">
</p>

<p>
Select <span class="code">File -&gt; Save audio</span> for example /tmp/videocd.mp2. Re-read avidemux doc, watch a holiday movie, read a book and come back an hour later.
</p>
</ul>
<p class="chaphead"><span class="chapnum"><a name="doc_chap2">2.</a></span>After avidemux</p>
<p class="secthead"><a name="doc_chap2_sect1">Muxing the result  </a></p>
<ul>
<p>
Now you have your video and audio streams ready.
Use mplex like this : 
</p>
<p>
mplex  -S XXX -f 1 -o /tmp/videocd.mpg videocd.m1v videocd.mp2
</p>
<p>The XXX value is to be replace by the size of your CD : 790 for a 80 mn CD.
</p>
<p>Once this is done you have a valid videocd.mpg file. Time to create a VCD
</p>
</ul>
<p class="secthead"><a name="doc_chap2_sect2">VCD imager  </a></p>
<ul>
<p>
To do a simple VCD without chapters, menus etc.. just do
</p>
<p>
<span class="code">vcdimager -t vcd20 videocd.mpg</span>
</p>
<p>This will create videocd.cue and videocd.bin, that can be burnt using cdrdao.
</p>
</ul>
<p class="chaphead"><span class="chapnum"><a name="doc_chap3">3.</a></span>Bash rules</p>
<p class="secthead"><a name="doc_chap3_sect1">Same thing without GUI  </a></p>
<ul>
<p>
 You can do the same operations using the command line
</p>
<p>
<span class="code">avidemux --load input.avi --vcd-res --video-process --video-codec VCD --save /tmp/videocd.m1v --audio-process --audio-normalize --audio-downample --audio-codec MP2 --audio-bitrate 224 --save-uncompressed-audio /tmp/videocd.mp2 --quit</span>
</p>
<p>That way you can do a fully automatic avi-&gt;VCD script
</p>
</ul>
<br><br>
</td></tr></table></td></tr></table></body>
</html>
