<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<link title="new" rel="stylesheet" href="../plop.css" type="text/css">
<title>Avidemux 
	
		Documentation
	
-- 
	ffv1rec</title>
</head>
<body style="margin-left:0px;margin-top:0px;" bgcolor="#ffffff"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top" align="right" colspan="1" bgcolor="#ffffff"><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr><td width="99%" class="content" valign="top" align="left">
<br><p class="dochead">ffv1rec</p>
<p class="chaphead"><span class="chapnum"><a name="doc_chap1">1.</a></span>Historie</p>
<p class="secthead"><a name="doc_chap1_sect1">Pøed ffv1rec byl nuppel_gatos </a></p>
<ul>
		<p> 
		Minulý rok jsem pou¾íval kartu ATI AIW 7500, s ovladaèi <a href="http://gatos.sf.net">GATOS</a>. 
		</p>
		<p>Problém je, ¾e tato karta neposkytuje stejné v4l rozhraní jako ovladaè BT8X8. Tak¾e vìt¹ina nahrávacích prohramù prostì nefunguje.
		</p>
		<p>Frustrován touto skuteèností jsem si napsal utilitku nazvanou nuppel_gatos, co¾ byl port programu NuppelVideo.
		
		</p>
<p>K nahrávání pou¾íval rozhraní ovladaèe GATOS, plus konverzi z YUV422 na YUV420P.
		</p>
		<p>Fungoval pìknì, ale pomìr velikost/kvalita nebyl moc dobrý. Experimentování mne postavilo pøed hrozné dilema:
		<ul>
			<li>Pou¾ívat NuppelVideo, ale zùstat u formátu RTjpeg, perfektní synchronizace, obrovské soubory</li>
			<li>Pou¾ívat AVI, s mo¾ností pou¾ít jiný kodek, synchronizace, *ehm*, problematická</li>
		</ul>
		</p>
		<p>Kdy¾ mluvím o synchronizaci, myslím tím skuteènou synchronizaci. ®ádné triky na úrovni kontejneru k nápravì synchronizace zvuku a obrazu, které se rozcházejí kdy¾ se vezmou samostatnì.
		</p>
		<p>Tak¾e jsem upravil nuppel_gatos tak, aby umìl komprimovat video kodekem XviD v prokládaném re¾imu. 
		</p>
	
	</ul>
<p class="secthead"><a name="doc_chap1_sect2">A nyní ffv1rec </a></p>
<ul>
		<p>Pøed nìkolika mìsíci jsem skonèil s AIW a poøídil si Ti4200 (jsem tak trochu fanda Enemy Territory :)) a instaloval zpìt kartu BT8x8.
		</p>
		<p>Stejné pøíèiny, stejné následky. Navíc jsem chtìl otestovat FFV1, bezeztrátový kodek z <a href="http://www.ffmpeg.org/">FFmpegu</a>. A je tu ffv1rec. :) 
		</p>
		<p>Výsledek primárních cílù byl ¹patný: velikost dobrá, ale vytí¾ení procesoru se okam¾itì vy¹plhalo na maximum.
		</p>
		<p>Tak¾e abych toto zajímavé pojednání ukonèil, ffv1rec vznikl evolucí z  NuppelVidea a pou¾ívá také stejný kontejner.
		</p>
		<p>Máte perfektní synchronizaci i mo¾nost komprimovat video rùznými kodeky.
		</p>
	</ul>
<p class="chaphead"><span class="chapnum"><a name="doc_chap2">2.</a></span>Hlavní rozdíly oproti nuvrec</p>
<ul>
		<li>Vlákna místo procesù</li>
		<li>Mù¾ete zadat audio frekvenci, jako 48000 pro pozdìj¹í konverzi na DVD, pøepínaèem <span class="code">-b</span>
</li>
		<li>Nastavení se mù¾e ulo¾it v $HOME/.ffv1recrc, viz následující èást</li>
		<li>Mù¾ete si zvolit video kodek pøepínaèem <span class="code">-C</span>. Doporuèený je XVID nebo HUFFYU</li>
		<li>Nastavit se dá i odhad pohybu u kodeku parametrem <span class="code">-M</span>. Doporuèeno: 0 nebo 1</li>
		<li>Mù¾ete si zvolit kvantizaci parametrem <span class="code">-q</span>. Doporuèeno: 5</li>
		<li>Vzdálenost mezi klíèovými snímky se dá nastavit parametrem <span class="code">-d</span>. Doporuèeno: 200</li>
		
	</ul>
<p class="chaphead"><span class="chapnum"><a name="doc_chap3">3.</a></span>Verze kodeku XviD</p>
<ul>	
	<p>Od verze Avidemuxu 2.0.22 byla do ffv1rec pøidána èásteèná podpora kodeku XviD verze 1.x, ale pøed kompilací ffv1rec <b>musíte</b> nejdøíve zkompilovat Avidemux (nebo alespoò spustit ./configure).
	</p>
	</ul>
<p class="chaphead"><span class="chapnum"><a name="doc_chap4">4.</a></span>$HOME/.ffv1recrc</p>
<ul>	
	<p>Tento soubor obsahuje va¹e nastavení. Parametry z pøíkazové øádky jej pøepí¹í.</p>
	<p>Syntaxe:
	</p>

	<ul>
		<li>
<span class="code">#</span> je komentáø</li>
		<li>
<span class="code">parametr</span> je toté¾ co -parametr z pøíkazové øádky</li>
		<li>
<span class="code">parametr=hodnota</span> je stejné jako -parametr hodnota z pøíkazové øádky</li>
	</ul>
	<p>
		Jako pøíklad uvedu své nastavení:
		<a name="doc_chap_pre1"></a><table class="ntable" width="100%" cellspacing="0" cellpadding="0" border="0">
<tr><td class="infohead" bgcolor="#7a5ada"><p class="caption">
			Code listing .1</p></td></tr>
<tr><td bgcolor="#ddddff"><pre>
C=XVID
q=4
M=1
d=200
S=1
b=48000
s
W=768
H=576
x=200
</pre></td></tr>
</table>
	</p>
	</ul>
<br><br>
</td></tr></table></td></tr></table></body>
</html>
